<div class="row">
    <div class="col-md-12">
        <h2 class="mt-5">Configuration</h2>
        <script>
            function keepWebHostLogsChanged() {
                var checked = document.getElementById('KeepWebHostLogsCheckBox').checked;
                document.getElementById('KeepWebHostLogs').value = checked;
                document.getElementById('MaxNumberOfWebHostLogsSection').style.display = checked ? 'block' : 'none';
            }
        </script>
        <form method="post" autocomplete="off">
            <div class="form-group pt-4">
                <label for="RequestLogLevel">Requests Log Level</label>
                <select id="RequestLogLevel" name="RequestLogLevel" class="form-control form-control-sm" style="width:auto; display: inline-block;">
                    <option value="@((int)Debug4MvcNetCore.Services.RequestLogLevel.OnlyIfError)" @(Model.RequestLogLevel == Debug4MvcNetCore.Services.RequestLogLevel.OnlyIfError ? "selected" : "")>Only if an error occurs</option>
                    <option value="@((int)Debug4MvcNetCore.Services.RequestLogLevel.All)" @(Model.RequestLogLevel == Debug4MvcNetCore.Services.RequestLogLevel.All ? "selected" : "")>All</option>
                    <option value="@((int)Debug4MvcNetCore.Services.RequestLogLevel.Node)" @(Model.RequestLogLevel == Debug4MvcNetCore.Services.RequestLogLevel.Node ? "selected" : "")>None</option>
                </select>
            </div>

            <div class="form-group pt-4">
                <label for="MaxNumberOfRequests" class="pb-0 mb-0">Max number of requests kept in memory:</label>
                <input id="MaxNumberOfRequests" name="MaxNumberOfRequests" class="form-control form-control-sm d-inline-block" value="@(Model.MaxNumberOfRequests)" style="width: 100px" />
                <small class="form-text text-muted">Requests are kept with logs.</small>
            </div>

            <div class="form-group pt-4">
                <div>
                    <input id="KeepWebHostLogs" name="KeepWebHostLogs" type="hidden" value="@(!Model.KeepWebHostLogs)">
                    <input id="KeepWebHostLogsCheckBox" type="checkbox" @(Model.KeepWebHostLogs ? "checked" : "") onclick="keepWebHostLogsChanged()" />
                    <label for="KeepWebHostLogsCheckBox" class="pb-0 mb-0">Keep logs from WebHost</label>
                    <small class="form-text text-muted">Logs that are not associated with any rquest. Eg. Request starting HTTP/1.1 GET...</small>
                </div>
                <div id="MaxNumberOfWebHostLogsSection" class="ml-4">
                    <label for="MaxNumberOfWebHostLogs">Max number of logs from WebHost kept in memory:</label>
                    <input id="MaxNumberOfWebHostLogs" name="MaxNumberOfWebHostLogs" class="form-control form-control-sm d-inline-block" value="@(Model.MaxNumberOfWebHostLogs)" style="width: 100px;" />
                </div>
            </div>

            <div class="text-danger">@(Model.Error)</div>

            <button type="submit" class="btn btn-primary">Update</button>
        </form>
        <script>keepWebHostLogsChanged();</script>
    </div>
</div>